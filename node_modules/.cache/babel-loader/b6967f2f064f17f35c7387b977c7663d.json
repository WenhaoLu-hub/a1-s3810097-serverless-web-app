{"ast":null,"code":"import _objectSpread from \"/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/src/components/ProductAdmin.js\";\nimport React, { Component, Fragment } from 'react';\nimport Product from './Product';\nimport axios from \"axios\";\n\nvar config = require('../config.json');\n\nimport { Auth } from 'aws-amplify';\nimport { API } from 'aws-amplify';\n\nvar ProductAdmin = /*#__PURE__*/function (_Component) {\n  _inherits(ProductAdmin, _Component);\n\n  function ProductAdmin() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductAdmin);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductAdmin)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      newgame: {\n        \"name\": \"web-test-name\",\n        \"genres\": \"web-test-genres\",\n        \"description\": \"webtest-description\"\n      },\n      games: []\n    };\n\n    _this.handleAddProduct = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var params;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault(); // add call to AWS API Gateway add product endpoint here\n\n                _context.prev = 1;\n                params = {\n                  // \"name\": name,\n                  // \"genres\": this.state.newgame.genres,\n                  // \"description\": this.state.newgame.description\n                  \"name\": \"web-test-name\",\n                  \"genres\": \"web-test-genres\",\n                  \"description\": \"webtest-description\"\n                };\n                alert(JSON.stringify(body));\n                _context.next = 6;\n                return axios.post(\"https://jmulu03w55.execute-api.us-east-1.amazonaws.com/dev\", {\n                  key1: \"web-test-name\",\n                  key2: \"web-test-genres\",\n                  key3: \"webtest-description\"\n                });\n\n              case 6:\n                _this.setState({\n                  games: [].concat(_toConsumableArray(_this.state.games), [_this.state.newgame])\n                });\n\n                _this.setState({\n                  newgame: {\n                    \"name\": \"\",\n                    \"genres\": \"\",\n                    \"description\": \"\"\n                  }\n                });\n\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](1);\n                console.log(\"An error has occurred: \".concat(_context.t0));\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 10]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleUpdateProduct = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name, genres, description) {\n        var params, gameToUpdate, updatedGames;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                params = {\n                  \"name\": name,\n                  \"genres\": genres,\n                  \"description\": description\n                };\n                _context2.next = 4;\n                return axios.patch(\"\".concat(config.api.invokeUrl, \"/game/\").concat(name), params);\n\n              case 4:\n                gameToUpdate = _toConsumableArray(_this.state.names).find(function (game) {\n                  return game.name === name;\n                });\n                updatedGames = _toConsumableArray(_this.state.games).filter(function (game) {\n                  return game.name !== name;\n                });\n                gameToUpdate.productname = name;\n                updatedGames.push(gameToUpdate);\n\n                _this.setState({\n                  products: updatedGames\n                });\n\n                _context2.next = 14;\n                break;\n\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(\"Error updating product: \".concat(_context2.t0));\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 11]]);\n      }));\n\n      return function (_x2, _x3, _x4) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.fetchProducts = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var res, games;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return axios.get(\"\".concat(config.api.invokeUrl, \"/game\"));\n\n            case 3:\n              res = _context3.sent;\n              games = res.data;\n\n              _this.setState({\n                games: games\n              });\n\n              _context3.next = 11;\n              break;\n\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(\"An error has occurred: \".concat(_context3.t0));\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 8]]);\n    }));\n\n    _this.onAddGameNameChange = function (event) {\n      return _this.setState({\n        newgame: _objectSpread({}, _this.state.newgame, {\n          \"name\": event.target.value\n        })\n      });\n    };\n\n    _this.onAddGameGenresChange = function (event) {\n      return _this.setState({\n        newgame: _objectSpread({}, _this.state.newgame, {\n          \"genres\": event.target.value\n        })\n      });\n    };\n\n    _this.onAddGameDescChange = function (event) {\n      return _this.setState({\n        newgame: _objectSpread({}, _this.state.newgame, {\n          \"description\": event.target.value\n        })\n      });\n    };\n\n    _this.componentDidMount = function () {\n      _this.fetchProducts();\n    };\n\n    return _this;\n  }\n\n  _createClass(ProductAdmin, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Product Admin\"), React.createElement(\"p\", {\n        className: \"subtitle is-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Add and remove products using the form below:\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column is-one-third\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(event) {\n          return _this2.handleAddProduct(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field has-addons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input is-medium\",\n        type: \"text\",\n        placeholder: \"Enter name\",\n        value: this.state.newgame.name,\n        onChange: this.onAddGameNameChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input is-medium\",\n        type: \"text\",\n        placeholder: \"Enter genres\",\n        value: this.state.newgame.genres,\n        onChange: this.onAddGameGenresChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input is-medium\",\n        type: \"text\",\n        placeholder: \"Enter id\",\n        value: this.state.newgame.description,\n        onChange: this.onAddGameDescChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"button is-primary is-medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Add product\")))))))));\n    }\n  }]);\n\n  return ProductAdmin;\n}(Component);\n\nexport { ProductAdmin as default };","map":{"version":3,"sources":["/Users/asher/Desktop/RMIT/BA2_TERM2/COSC2626_Cloud Computing/A1/a1-serverless-web-app/src/components/ProductAdmin.js"],"names":["React","Component","Fragment","Product","axios","config","require","Auth","API","ProductAdmin","state","newgame","games","handleAddProduct","event","preventDefault","params","alert","JSON","stringify","body","post","key1","key2","key3","setState","console","log","handleUpdateProduct","name","genres","description","patch","api","invokeUrl","gameToUpdate","names","find","game","updatedGames","filter","productname","push","products","fetchProducts","get","res","data","onAddGameNameChange","target","value","onAddGameGenresChange","onAddGameDescChange","componentDidMount"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport Product from './Product';\nimport axios from \"axios\";\nconst config = require('../config.json');\nimport { Auth } from 'aws-amplify';\nimport { API } from 'aws-amplify';\n\nexport default class ProductAdmin extends Component {\n\n  state = {\n    newgame: { \n      \"name\": \"web-test-name\",\n      \"genres\": \"web-test-genres\",\n      \"description\": \"webtest-description\"\n    },\n    games: []\n  }\n\n  handleAddProduct = async (event) => {\n    event.preventDefault();\n    // add call to AWS API Gateway add product endpoint here\n    try {\n      const params = {\n        // \"name\": name,\n        // \"genres\": this.state.newgame.genres,\n        // \"description\": this.state.newgame.description\n          \"name\" : \"web-test-name\",\n          \"genres\" : \"web-test-genres\",\n          \"description\" : \"webtest-description\"   \n               \n      };\n      alert(JSON.stringify(body));\n      await axios.post(`https://jmulu03w55.execute-api.us-east-1.amazonaws.com/dev`, { key1:\"web-test-name\" , key2:\"web-test-genres\",key3:\"webtest-description\" });\n      this.setState({ games: [...this.state.games, this.state.newgame] });\n      this.setState({ newgame: { \"name\": \"\", \"genres\": \"\" ,\"description\":\"\"}});\n    }catch (err) {\n      console.log(`An error has occurred: ${err}`);\n    }\n  }\n\n  handleUpdateProduct = async (name, genres, description) => {\n    // add call to AWS API Gateway update product endpoint here\n    try {\n      const params = {\n        \"name\": name,\n        \"genres\": genres,\n        \"description\": description\n      };\n      await axios.patch(`${config.api.invokeUrl}/game/${name}`, params);\n      const gameToUpdate = [...this.state.names].find(game => game.name === name);\n      const updatedGames = [...this.state.games].filter(game => game.name !== name);\n      gameToUpdate.productname = name;\n      updatedGames.push(gameToUpdate);\n      this.setState({products: updatedGames});\n    }catch (err) {\n      console.log(`Error updating product: ${err}`);\n    }\n  }\n\n\n  fetchProducts = async () => {\n    // add call to AWS API Gateway to fetch products here\n    // then set them in state\n    try {\n      const res = await axios.get(`${config.api.invokeUrl}/game`);\n      const games = res.data;\n      this.setState({ games: games });\n    } catch (err) {\n      console.log(`An error has occurred: ${err}`);\n    }\n  }\n\n  onAddGameNameChange = event => this.setState({ newgame: { ...this.state.newgame, \"name\": event.target.value } });\n  onAddGameGenresChange = event => this.setState({ newgame: { ...this.state.newgame, \"genres\": event.target.value } });\n  onAddGameDescChange = event => this.setState({ newgame: { ...this.state.newgame, \"description\": event.target.value } });\n\n  componentDidMount = () => {\n    this.fetchProducts();\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <section className=\"section\">\n          <div className=\"container\">\n            <h1>Product Admin</h1>\n            <p className=\"subtitle is-5\">Add and remove products using the form below:</p>\n            <br />\n            <div className=\"columns\">\n              <div className=\"column is-one-third\">\n                <form onSubmit={event => this.handleAddProduct(event)}>\n                  <div className=\"field has-addons\">\n\n                    {/* name */}\n                    <div className=\"control\">\n                      <input \n                        className=\"input is-medium\"\n                        type=\"text\" \n                        placeholder=\"Enter name\"\n                        value={this.state.newgame.name}\n                        onChange={this.onAddGameNameChange}\n                      />\n                    </div>\n                    {/* genres */}\n                    <div className=\"control\">\n                      <input \n                        className=\"input is-medium\"\n                        type=\"text\" \n                        placeholder=\"Enter genres\"\n                        value={this.state.newgame.genres}\n                        onChange={this.onAddGameGenresChange}\n                      />\n                    </div>\n\n                    {/* description */}\n                    <div className=\"control\">\n                      <input \n                        className=\"input is-medium\"\n                        type=\"text\" \n                        placeholder=\"Enter id\"\n                        value={this.state.newgame.description}\n                        onChange={this.onAddGameDescChange}\n                      />\n                    </div>\n                    <div className=\"control\">\n                      <button type=\"submit\" className=\"button is-primary is-medium\">\n                        Add product\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </section>\n      </Fragment>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}